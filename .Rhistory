install.packages("dplyr")
install.packages("tidyverse")
install.packages("ggplot2")
install.packages("rmarkdown")
install.packages("knitr")
install.packages("xml2")
install.packages("XML")
load("D:/Gu/juciara_enap/unb/UNB1/Script RelatorioJU2.R.RData")
nomes_bases <- paste("advise.ga", 1:9, sep="")
nomes_bases
qtde_topicos <- length(advise.ga1)
qtde_topicos
advise.ga1
valores <- rep(list(rep(NA,qtde_topicos)),length(nomes_bases))
valores
advise.ga1$ORIENTACAO_EM_ANDAMENTO_DE_POS_DOUTORADO
library(dplyr)
nomes_bases <- paste("advise.ga", 1:9, sep="")
nomes_bases
qtde_topicos <- length(advise.ga1)
qtde_topicos
valores <- rep(list(rep(NA,qtde_topicos)),length(nomes_bases))
valores
tipo<-c("anda_pos_doc","anda_doc","anda_mes","anda_grad","anda_ini" , "Pos Doutorado","Doutorado", "Mestrado",  "outras")
for(j in 1:length(nomes_bases)){
assign("base",get(nomes_bases[j]))
for(i in 1:qtde_topicos){
valores[[j]][i]<-base[[i]]%>%
sapply(function(x)length(x$natureza)) %>%
sum()
}
names(valores[[j]]) <- tipo
}
valores
valores <- lapply(valores,sort,decreasing=T)
valores
lapply(valores, function(x) x[c(2,3,8)])
nomes_bases <- paste("advise.ga", 1:9, sep="")
nomes_bases
qtde_topicos <- length(advise.ga1)
qtde_topicos
valores <- rep(list(rep(NA,qtde_topicos)),length(nomes_bases))
valores
tipo<-c("anda_pos_doc","anda_doc","anda_mes","anda_grad","anda_ini" , "Pos Doutorado","Doutorado", "Mestrado",  "outras")
for(j in 1:length(nomes_bases)){
assign("base",get(nomes_bases[j]))
for(i in 1:qtde_topicos){
valores[[j]][i]<-base[[i]]%>%
sapply(function(x)length(x$natureza)) %>%
sum()
}
names(valores[[j]]) <- tipo
}
valores
lapply(valores, function(x) x[c(6,7,8)])
valores <- lapply(valores, function(x) x[c(6,7,8)])
valores <- lapply(valores,sort,decreasing=T)
valores
dados <- c()
for(i in 1:9){
dados <- c(dados,valores[[i]])
}
areas <- c(rep("Ciencias Humanas",3),rep("Ciencias Socias Aplicadas",3),rep("Ciencias Exatas e da Terra",3),
rep("Ciencias da Saude",3),rep("Ciencias Biologicas",3),rep("Ciencias Agrarias",3),
rep("Engenharias",3),rep("Linguistica Letras e Artes",3),rep("Multidisciplinar",3))
t <- data.frame(quantidade=dados,tipo=names(dados),areas)
t
View(r)
View(t)
dforienta <- rbind(dfOR1,dfOR2,dfOR3,dfOR4,dfOR5,dfOR6,dfOR7,dfOR8,dfOR9)
areas2 <- c(rep("Ciencias Humanas",3),rep("Ciencias Socias Aplicadas",3),rep("Ciencias Exatas e da Terra",3),
rep("Ciencias da Saude",3),rep("Ciencias Biologicas",3),rep("Ciencias Agrarias",3),
rep("Engenharias",3),rep("Linguistica Letras e Artes",3),rep("Multidisciplinar",3))
r<-data.frame(dforienta,areas2)
str(r)
head(r,18)
cbbPalette   <-   c ("#56B4E9","#009E73","#CC79A7")
ggplot(r, aes(x =(areas2), y=quantidade, fill = tipo, label = quantidade)) +
geom_bar(stat ="identity",  width=0.6 )+
scale_fill_manual ( values = cbbPalette ) +
scale_y_continuous(breaks = seq(0,4000,by=300))+
labs(x="", y="Quantidade", title="Distribuição dos Tipos de Pós-graduação segundo as Grandes Áreas")+
coord_flip()+
theme(axis.text.x = element_text(angle=0, hjust = 1),
plot.title = element_text(hjust=0.5))
################  grafico comparativo
library(ggplot2)
cbbPalette   <-   c ("#56B4E9","#009E73","#CC79A7")
ggplot(r, aes(x =(areas2), y=quantidade, fill = tipo, label = quantidade)) +
geom_bar(stat ="identity",  width=0.6 )+
scale_fill_manual ( values = cbbPalette ) +
scale_y_continuous(breaks = seq(0,4000,by=300))+
labs(x="", y="Quantidade", title="Distribuição dos Tipos de Pós-graduação segundo as Grandes Áreas")+
coord_flip()+
theme(axis.text.x = element_text(angle=0, hjust = 1),
plot.title = element_text(hjust=0.5))
r <- data.frame(quantidade=dados,tipo=names(dados),areas)
r
ggplot(r, aes(x =(areas2), y=quantidade, fill = tipo, label = quantidade)) +
geom_bar(stat ="identity",  width=0.6 )+
scale_fill_manual ( values = cbbPalette ) +
scale_y_continuous(breaks = seq(0,4000,by=300))+
labs(x="", y="Quantidade", title="Distribuição dos Tipos de Pós-graduação segundo as Grandes Áreas")+
coord_flip()+
theme(axis.text.x = element_text(angle=0, hjust = 1),
plot.title = element_text(hjust=0.5))
corres<-c( "#a6cdd9", "#d2e4ee", "#b7b079", "#efc750","#E69F00" ,
"#56B4E9" ,   "#009E73", "#0072B2" ,   "#D55E00" )
ggplot( r, aes( x = tipo, y = quantidade ) ) +
geom_bar( stat = "identity" ) +
scale_fill_manual( values = corres ) +
facet_wrap( ~ areas2) +
labs(x="Tipo", y="Quantidade", title="Distribuição dos Tipos de Pós-graduação segundo as Grandes Áreas")+
theme_bw() +
theme( axis.text.x = element_text( angle = 0,  hjust = 1 ) )
ggplot( r, aes( x = tipo, y = quantidade ) ) +
geom_bar( stat = "identity" ) +
scale_fill_manual( values = corres ) +
facet_wrap( ~ areas) +
labs(x="Tipo", y="Quantidade", title="Distribuição dos Tipos de Pós-graduação segundo as Grandes Áreas")+
theme_bw() +
theme( axis.text.x = element_text( angle = 0,  hjust = 1 ) )
ggplot( r, aes( x = reorder(tipo,-quantidade), y = quantidade ) ) +
geom_bar( stat = "identity" ) +
scale_fill_manual( values = corres ) +
facet_wrap( ~ areas) +
labs(x="Tipo", y="Quantidade", title="Distribuição dos Tipos de Pós-graduação segundo as Grandes Áreas")+
theme_bw() +
theme( axis.text.x = element_text( angle = 0,  hjust = 1 ) )
ggplot(r, aes(x =reorder(areas,-quantidade), y=quantidade, fill = tipo, label = quantidade)) +
geom_bar(stat ="identity",  width=0.6 )+
scale_fill_manual ( values = cbbPalette ) +
scale_y_continuous(breaks = seq(0,4000,by=300))+
labs(x="", y="Quantidade", title="Distribuição dos Tipos de Pós-graduação segundo as Grandes Áreas")+
coord_flip()+
theme(axis.text.x = element_text(angle=0, hjust = 1),
plot.title = element_text(hjust=0.5))
ggplot(r, aes(x =reorder(areas,quantidade), y=quantidade, fill = tipo, label = quantidade)) +
geom_bar(stat ="identity",  width=0.6 )+
scale_fill_manual ( values = cbbPalette ) +
scale_y_continuous(breaks = seq(0,4000,by=300))+
labs(x="", y="Quantidade", title="Distribuição dos Tipos de Pós-graduação segundo as Grandes Áreas")+
coord_flip()+
theme(axis.text.x = element_text(angle=0, hjust = 1),
plot.title = element_text(hjust=0.5))
library(dplyr)
nomes_bases <- paste("advise.ga", 1:9, sep="")
nomes_bases
qtde_topicos <- length(advise.ga1)
qtde_topicos
valores <- rep(list(rep(NA,qtde_topicos)),length(nomes_bases))
valores
tipo<-c("anda_pos_doc","anda_doc","anda_mes","anda_grad","anda_ini" , "Pos Doutorado","Doutorado", "Mestrado",  "outras")
for(j in 1:length(nomes_bases)){
assign("base",get(nomes_bases[j]))
for(i in 1:qtde_topicos){
valores[[j]][i]<-base[[i]]%>%
sapply(function(x)length(x$natureza)) %>%
sum()
}
names(valores[[j]]) <- tipo
}
valores <- lapply(valores, function(x) x[c(6,7,8)])
valores <- lapply(valores,sort,decreasing=T)
valores
dados <- c()
for(i in 1:9){
dados <- c(dados,valores[[i]])
}
areas <- c(rep("Ciencias Humanas",3),rep("Ciencias Socias Aplicadas",3),rep("Ciencias Exatas e da Terra",3),
rep("Ciencias da Saude",3),rep("Ciencias Biologicas",3),rep("Ciencias Agrarias",3),
rep("Engenharias",3),rep("Linguistica Letras e Artes",3),rep("Multidisciplinar",3))
r <- data.frame(quantidade=dados,tipo=names(dados),areas)
r
cbbPalette   <-   c ("#56B4E9","#009E73","#CC79A7")
ggplot(r, aes(x =reorder(areas,quantidade), y=quantidade, fill = tipo, label = quantidade)) +
geom_bar(stat ="identity",  width=0.6 )+
scale_fill_manual ( values = cbbPalette ) +
scale_y_continuous(breaks = seq(0,4000,by=300))+
labs(x="", y="Quantidade", title="Distribuição dos Tipos de Pós-graduação segundo as Grandes Áreas")+
coord_flip()+
theme(axis.text.x = element_text(angle=0, hjust = 1),
plot.title = element_text(hjust=0.5))
corres<-c( "#a6cdd9", "#d2e4ee", "#b7b079", "#efc750","#E69F00" ,
"#56B4E9" ,   "#009E73", "#0072B2" ,   "#D55E00" )
ggplot( r, aes( x = reorder(tipo,-quantidade), y = quantidade ) ) +
geom_bar( stat = "identity" ) +
scale_fill_manual( values = corres ) +
facet_wrap( ~ areas) +
labs(x="Tipo", y="Quantidade", title="Distribuição dos Tipos de Pós-graduação segundo as Grandes Áreas")+
theme_bw() +
theme( axis.text.x = element_text( angle = 0,  hjust = 1 ) )
.03*.995]
.03*.995
.03*.995/(.03*.995+.95*.005)
#INSTALAR PACOTE DE IMPORTAÇÃO DOS DADOS DA PNAD  CONTINUA E UMA DEPENDÊNCIA "MITOOLS"
install.packages("PNADcIBGE")
install.packages("mitools")
#CHAMAR OS PACOTES INSTALADOS
library(PNADcIBGE)
library(survey)
help("get_pnadc")
v_saneam<-c("UF","V2001","V2005", "S01007", "S01008", "S01009", "S01010", "S01011A", "S01011B", "S01011C", "S01012", "S01013")
pnadc_saneamento2018<-get_pnadc(year = 2018, interview = 1, vars= v_saneam)
View(pnadc_saneamento2018)
str(pnadc_saneamento2018)
#FILTRO AS INFORMAÇÕES DE INTERESSE, NO CASO, FORMAS DE ABASTECIMENTO DE ÁGUA, TOTAL
forma_abast_agua<-svytotal(~S01007, pnadc_saneamento2018, na.rm=TRUE)
forma_por_uf<-svytotal(~S01007+UF, pnadc_saneamento2018, na.rm=TRUE)
forma_por_uf
forma_abast_agua
pnadc_saneamento2018$variables
tabela <- pnadc_saneamento2018$variables
str(tabela)
so_chefe <- tabela[tabela$V2005=="01",]
str(pnadc_saneamento2018)
View(so_chefe)
setwd("D:/Gu/ENAP/Dados")
setwd("D:/Gu/ENAP/Dados")
## Samuel (SNS/MDR)
agua_esgoto <- read.csv2("Agua_Esgoto.csv")
View(agua_esgoto)
## Samuel (SNS/MDR)
agua_esgoto <- read.csv2("https://raw.githubusercontent.com/gustavopompeu/ENAP/master/Agua_Esgoto.csv")
View(agua_esgoto)
str(agua_esgoto)
## Samuel (SNS/MDR)
agua_esgoto <- read.csv2("https://raw.githubusercontent.com/gustavopompeu/ENAP/master/Agua_Esgoto.csv", dec=".")
str(agua_esgoto)
## Samuel (SNS/MDR)
agua_esgoto <- read.csv2("https://raw.githubusercontent.com/gustavopompeu/ENAP/master/Agua_Esgoto.csv")
str(agua_esgoto)
mean(agua_esgoto$G05B...Quantidade.total.de.municípios.atendidos.com.esgotamento.sanitário)
as.numeric(agua_esgoto$G05B...Quantidade.total.de.municípios.atendidos.com.esgotamento.sanitário)
gsub(".", "", agua_esgoto$G06A...População.urbana.residente.do.s..município.s..com.abastecimento.de.água)
library(readxl)
Agua_Esgoto <- read_excel("Agua_Esgoto.xlsx")
View(Agua_Esgoto)
write.csv(Agua_Esgoto, "Agua_Esgoto2.csv")
## Samuel (SNS/MDR)
agua_esgoto <- read.csv2("Agua_Esgoto.csv")
str(agua_esgoto)
## Samuel (SNS/MDR)
agua_esgoto <- read.csv("Agua_Esgoto.csv")
str(agua_esgoto)
View(agua_esgoto)
mean(agua_esgoto$G05A...Quantidade.total.de.municípios.atendidos.com.abastecimento.de.água)
mean(agua_esgoto$G05A...Quantidade.total.de.municípios.atendidos.com.abastecimento.de.água, na.rm=T)
mean(agua_esgoto$G06B...População.urbana.residente.do.s..município.s..com.esgotamento.sanitário, na.rm=T)
ano2012 <- agua_esgoto[agua_esgoto$Ano.de.Referência == 2012,]
mean(ano2012$G06A...População.urbana.residente.do.s..município.s..com.abastecimento.de.água)
mean(ano2012$G06A...População.urbana.residente.do.s..município.s..com.abastecimento.de.água, na.rm=T)
sum(!is.na(ano2012$G06A...População.urbana.residente.do.s..município.s..com.abastecimento.de.água))
View(agua_esgoto)
mean(agua_esgoto$G05B...Quantidade.total.de.municípios.atendidos.com.esgotamento.sanitário, na.rm=T)
## Samuel (SNS/MDR)
agua_esgoto <- read.csv("Agua_Esgoto.csv")
mean(agua_esgoto$G05B...Quantidade.total.de.municípios.atendidos.com.esgotamento.sanitário, na.rm=T)
str(agua_esgoto)
## Samuel (SNS/MDR)
agua_esgoto <- read.csv("Agua_Esgoto.csv")
str(agua_esgoto)
View(agua_esgoto)
library(readxl)
Agua_Esgoto <- read_excel("Agua_Esgoto.xlsx")
View(Agua_Esgoto)
write.csv(Agua_Esgoto, "agua_esgoto2.csv")
## Samuel (SNS/MDR)
agua_esgoto <- read.csv("Agua_Esgoto.csv")
str(agua_esgoto)
mean(agua_esgoto$G05B...Quantidade.total.de.municípios.atendidos.com.esgotamento.sanitário, na.rm=T)
which.max(agua_esgoto$G05B...Quantidade.total.de.municípios.atendidos.com.esgotamento.sanitário)
View(agua_esgoto)
agua_esgoto[16224,]
mean(agua_esgoto$GE005...Quantidade.total.de.municípios.atendidos, na.rm=T)
str(agua_esgoto)
estadoRN <- agua_esgoto[agua_esgoto$Estado == "RN",]
mean(agua_esgoto$G05B...Quantidade.total.de.municípios.atendidos.com.esgotamento.sanitário, na.rm=T)
View(estadoRN)
estadoRN <- agua_esgoto[agua_esgoto$Abrangência=="Local",]
mean(estadoRN$G05B...Quantidade.total.de.municípios.atendidos.com.esgotamento.sanitário, na.rm=T)
summary(estadoRN$G05B...Quantidade.total.de.municípios.atendidos.com.esgotamento.sanitário)
estadoRN <- agua_esgoto[agua_esgoto$Abrangência=="Local" & agua_esgoto$Ano.de.Referência == 2018,]
estadoRN <- agua_esgoto[agua_esgoto$Abrangência=="Local" & agua_esgoto$Ano.de.Referência == 2016,]
mean(estadoRN$G05B...Quantidade.total.de.municípios.atendidos.com.esgotamento.sanitário, na.rm=T)
estadoRN <- agua_esgoto[agua_esgoto$Estado =="PR",]
View(estadoRN)
mean(estadoRN$G12B...População.total.residente.do.s..município.s..com.esgotamento.sanitário..segundo.o.IBGE, na.rm=T)
sd(estadoRN$G12B...População.total.residente.do.s..município.s..com.esgotamento.sanitário..segundo.o.IBGE, na.rm=T)
