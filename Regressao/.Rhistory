install.packages("dplyr")
install.packages("tidyverse")
install.packages("ggplot2")
install.packages("rmarkdown")
install.packages("knitr")
install.packages("xml2")
install.packages("XML")
load("D:/Gu/juciara_enap/unb/UNB1/Script RelatorioJU2.R.RData")
nomes_bases <- paste("advise.ga", 1:9, sep="")
nomes_bases
qtde_topicos <- length(advise.ga1)
qtde_topicos
advise.ga1
valores <- rep(list(rep(NA,qtde_topicos)),length(nomes_bases))
valores
advise.ga1$ORIENTACAO_EM_ANDAMENTO_DE_POS_DOUTORADO
library(dplyr)
nomes_bases <- paste("advise.ga", 1:9, sep="")
nomes_bases
qtde_topicos <- length(advise.ga1)
qtde_topicos
valores <- rep(list(rep(NA,qtde_topicos)),length(nomes_bases))
valores
tipo<-c("anda_pos_doc","anda_doc","anda_mes","anda_grad","anda_ini" , "Pos Doutorado","Doutorado", "Mestrado",  "outras")
for(j in 1:length(nomes_bases)){
assign("base",get(nomes_bases[j]))
for(i in 1:qtde_topicos){
valores[[j]][i]<-base[[i]]%>%
sapply(function(x)length(x$natureza)) %>%
sum()
}
names(valores[[j]]) <- tipo
}
valores
valores <- lapply(valores,sort,decreasing=T)
valores
lapply(valores, function(x) x[c(2,3,8)])
nomes_bases <- paste("advise.ga", 1:9, sep="")
nomes_bases
qtde_topicos <- length(advise.ga1)
qtde_topicos
valores <- rep(list(rep(NA,qtde_topicos)),length(nomes_bases))
valores
tipo<-c("anda_pos_doc","anda_doc","anda_mes","anda_grad","anda_ini" , "Pos Doutorado","Doutorado", "Mestrado",  "outras")
for(j in 1:length(nomes_bases)){
assign("base",get(nomes_bases[j]))
for(i in 1:qtde_topicos){
valores[[j]][i]<-base[[i]]%>%
sapply(function(x)length(x$natureza)) %>%
sum()
}
names(valores[[j]]) <- tipo
}
valores
lapply(valores, function(x) x[c(6,7,8)])
valores <- lapply(valores, function(x) x[c(6,7,8)])
valores <- lapply(valores,sort,decreasing=T)
valores
dados <- c()
for(i in 1:9){
dados <- c(dados,valores[[i]])
}
areas <- c(rep("Ciencias Humanas",3),rep("Ciencias Socias Aplicadas",3),rep("Ciencias Exatas e da Terra",3),
rep("Ciencias da Saude",3),rep("Ciencias Biologicas",3),rep("Ciencias Agrarias",3),
rep("Engenharias",3),rep("Linguistica Letras e Artes",3),rep("Multidisciplinar",3))
t <- data.frame(quantidade=dados,tipo=names(dados),areas)
t
View(r)
View(t)
dforienta <- rbind(dfOR1,dfOR2,dfOR3,dfOR4,dfOR5,dfOR6,dfOR7,dfOR8,dfOR9)
areas2 <- c(rep("Ciencias Humanas",3),rep("Ciencias Socias Aplicadas",3),rep("Ciencias Exatas e da Terra",3),
rep("Ciencias da Saude",3),rep("Ciencias Biologicas",3),rep("Ciencias Agrarias",3),
rep("Engenharias",3),rep("Linguistica Letras e Artes",3),rep("Multidisciplinar",3))
r<-data.frame(dforienta,areas2)
str(r)
head(r,18)
cbbPalette   <-   c ("#56B4E9","#009E73","#CC79A7")
ggplot(r, aes(x =(areas2), y=quantidade, fill = tipo, label = quantidade)) +
geom_bar(stat ="identity",  width=0.6 )+
scale_fill_manual ( values = cbbPalette ) +
scale_y_continuous(breaks = seq(0,4000,by=300))+
labs(x="", y="Quantidade", title="Distribuição dos Tipos de Pós-graduação segundo as Grandes Áreas")+
coord_flip()+
theme(axis.text.x = element_text(angle=0, hjust = 1),
plot.title = element_text(hjust=0.5))
################  grafico comparativo
library(ggplot2)
cbbPalette   <-   c ("#56B4E9","#009E73","#CC79A7")
ggplot(r, aes(x =(areas2), y=quantidade, fill = tipo, label = quantidade)) +
geom_bar(stat ="identity",  width=0.6 )+
scale_fill_manual ( values = cbbPalette ) +
scale_y_continuous(breaks = seq(0,4000,by=300))+
labs(x="", y="Quantidade", title="Distribuição dos Tipos de Pós-graduação segundo as Grandes Áreas")+
coord_flip()+
theme(axis.text.x = element_text(angle=0, hjust = 1),
plot.title = element_text(hjust=0.5))
r <- data.frame(quantidade=dados,tipo=names(dados),areas)
r
ggplot(r, aes(x =(areas2), y=quantidade, fill = tipo, label = quantidade)) +
geom_bar(stat ="identity",  width=0.6 )+
scale_fill_manual ( values = cbbPalette ) +
scale_y_continuous(breaks = seq(0,4000,by=300))+
labs(x="", y="Quantidade", title="Distribuição dos Tipos de Pós-graduação segundo as Grandes Áreas")+
coord_flip()+
theme(axis.text.x = element_text(angle=0, hjust = 1),
plot.title = element_text(hjust=0.5))
corres<-c( "#a6cdd9", "#d2e4ee", "#b7b079", "#efc750","#E69F00" ,
"#56B4E9" ,   "#009E73", "#0072B2" ,   "#D55E00" )
ggplot( r, aes( x = tipo, y = quantidade ) ) +
geom_bar( stat = "identity" ) +
scale_fill_manual( values = corres ) +
facet_wrap( ~ areas2) +
labs(x="Tipo", y="Quantidade", title="Distribuição dos Tipos de Pós-graduação segundo as Grandes Áreas")+
theme_bw() +
theme( axis.text.x = element_text( angle = 0,  hjust = 1 ) )
ggplot( r, aes( x = tipo, y = quantidade ) ) +
geom_bar( stat = "identity" ) +
scale_fill_manual( values = corres ) +
facet_wrap( ~ areas) +
labs(x="Tipo", y="Quantidade", title="Distribuição dos Tipos de Pós-graduação segundo as Grandes Áreas")+
theme_bw() +
theme( axis.text.x = element_text( angle = 0,  hjust = 1 ) )
ggplot( r, aes( x = reorder(tipo,-quantidade), y = quantidade ) ) +
geom_bar( stat = "identity" ) +
scale_fill_manual( values = corres ) +
facet_wrap( ~ areas) +
labs(x="Tipo", y="Quantidade", title="Distribuição dos Tipos de Pós-graduação segundo as Grandes Áreas")+
theme_bw() +
theme( axis.text.x = element_text( angle = 0,  hjust = 1 ) )
ggplot(r, aes(x =reorder(areas,-quantidade), y=quantidade, fill = tipo, label = quantidade)) +
geom_bar(stat ="identity",  width=0.6 )+
scale_fill_manual ( values = cbbPalette ) +
scale_y_continuous(breaks = seq(0,4000,by=300))+
labs(x="", y="Quantidade", title="Distribuição dos Tipos de Pós-graduação segundo as Grandes Áreas")+
coord_flip()+
theme(axis.text.x = element_text(angle=0, hjust = 1),
plot.title = element_text(hjust=0.5))
ggplot(r, aes(x =reorder(areas,quantidade), y=quantidade, fill = tipo, label = quantidade)) +
geom_bar(stat ="identity",  width=0.6 )+
scale_fill_manual ( values = cbbPalette ) +
scale_y_continuous(breaks = seq(0,4000,by=300))+
labs(x="", y="Quantidade", title="Distribuição dos Tipos de Pós-graduação segundo as Grandes Áreas")+
coord_flip()+
theme(axis.text.x = element_text(angle=0, hjust = 1),
plot.title = element_text(hjust=0.5))
library(dplyr)
nomes_bases <- paste("advise.ga", 1:9, sep="")
nomes_bases
qtde_topicos <- length(advise.ga1)
qtde_topicos
valores <- rep(list(rep(NA,qtde_topicos)),length(nomes_bases))
valores
tipo<-c("anda_pos_doc","anda_doc","anda_mes","anda_grad","anda_ini" , "Pos Doutorado","Doutorado", "Mestrado",  "outras")
for(j in 1:length(nomes_bases)){
assign("base",get(nomes_bases[j]))
for(i in 1:qtde_topicos){
valores[[j]][i]<-base[[i]]%>%
sapply(function(x)length(x$natureza)) %>%
sum()
}
names(valores[[j]]) <- tipo
}
valores <- lapply(valores, function(x) x[c(6,7,8)])
valores <- lapply(valores,sort,decreasing=T)
valores
dados <- c()
for(i in 1:9){
dados <- c(dados,valores[[i]])
}
areas <- c(rep("Ciencias Humanas",3),rep("Ciencias Socias Aplicadas",3),rep("Ciencias Exatas e da Terra",3),
rep("Ciencias da Saude",3),rep("Ciencias Biologicas",3),rep("Ciencias Agrarias",3),
rep("Engenharias",3),rep("Linguistica Letras e Artes",3),rep("Multidisciplinar",3))
r <- data.frame(quantidade=dados,tipo=names(dados),areas)
r
cbbPalette   <-   c ("#56B4E9","#009E73","#CC79A7")
ggplot(r, aes(x =reorder(areas,quantidade), y=quantidade, fill = tipo, label = quantidade)) +
geom_bar(stat ="identity",  width=0.6 )+
scale_fill_manual ( values = cbbPalette ) +
scale_y_continuous(breaks = seq(0,4000,by=300))+
labs(x="", y="Quantidade", title="Distribuição dos Tipos de Pós-graduação segundo as Grandes Áreas")+
coord_flip()+
theme(axis.text.x = element_text(angle=0, hjust = 1),
plot.title = element_text(hjust=0.5))
corres<-c( "#a6cdd9", "#d2e4ee", "#b7b079", "#efc750","#E69F00" ,
"#56B4E9" ,   "#009E73", "#0072B2" ,   "#D55E00" )
ggplot( r, aes( x = reorder(tipo,-quantidade), y = quantidade ) ) +
geom_bar( stat = "identity" ) +
scale_fill_manual( values = corres ) +
facet_wrap( ~ areas) +
labs(x="Tipo", y="Quantidade", title="Distribuição dos Tipos de Pós-graduação segundo as Grandes Áreas")+
theme_bw() +
theme( axis.text.x = element_text( angle = 0,  hjust = 1 ) )
.03*.995]
.03*.995
.03*.995/(.03*.995+.95*.005)
#INSTALAR PACOTE DE IMPORTAÇÃO DOS DADOS DA PNAD  CONTINUA E UMA DEPENDÊNCIA "MITOOLS"
install.packages("PNADcIBGE")
install.packages("mitools")
#CHAMAR OS PACOTES INSTALADOS
library(PNADcIBGE)
library(survey)
help("get_pnadc")
v_saneam<-c("UF","V2001","V2005", "S01007", "S01008", "S01009", "S01010", "S01011A", "S01011B", "S01011C", "S01012", "S01013")
pnadc_saneamento2018<-get_pnadc(year = 2018, interview = 1, vars= v_saneam)
View(pnadc_saneamento2018)
str(pnadc_saneamento2018)
#FILTRO AS INFORMAÇÕES DE INTERESSE, NO CASO, FORMAS DE ABASTECIMENTO DE ÁGUA, TOTAL
forma_abast_agua<-svytotal(~S01007, pnadc_saneamento2018, na.rm=TRUE)
forma_por_uf<-svytotal(~S01007+UF, pnadc_saneamento2018, na.rm=TRUE)
forma_por_uf
forma_abast_agua
pnadc_saneamento2018$variables
tabela <- pnadc_saneamento2018$variables
str(tabela)
so_chefe <- tabela[tabela$V2005=="01",]
str(pnadc_saneamento2018)
View(so_chefe)
## Samuel (SNS/MDR)
agua_esgoto <- read.csv("https://raw.githubusercontent.com/gustavopompeu/ENAP/master/Agua_Esgoto.csv")
library(PNADcIBGE)
library(survey)
help("get_pnadc")
v_saneam<-c("UF","V2001","V2005", "S01007", "S01008", "S01009", "S01010", "S01011A", "S01011B", "S01011C", "S01012", "S01013")
pnadc_saneamento2018<-get_pnadc(year = 2018, interview = 1, vars= v_saneam)
str(pnadc_saneamento2018$variables)
v_saneam<-c("UF","V2001","V2005","VD4020", "S01007", "S01008", "S01009", "S01010", "S01011A", "S01011B", "S01011C", "S01012", "S01013")
pnadc_saneamento2018<-get_pnadc(year = 2018, interview = 1, vars= v_saneam)
str(pnadc_saneamento2018$variables)
pnadc_saneamento2018$variables$VD4020<-as.factor(pnadc_saneamento2018$variables$VD4020)
str(pnadc_saneamento2018$variables)
pnadc_saneamento2018$variables$VD4020
cut(pnadc_saneamento2018$variables$VD4020)
pnadc_saneamento2018$variables$VD4020<-as.numeric(pnadc_saneamento2018$variables$VD4020)
cut(pnadc_saneamento2018$variables$VD4020)
cut(pnadc_saneamento2018$variables$VD4020, breaks=20)
pnadc_saneamento2018$variables$VD4020<-cut(pnadc_saneamento2018$variables$VD4020, breaks=20)
summary(pnadc_saneamento2018$variables$VD4020)
a <- c(5000000)
for(i in 2:10){
a[i] <- a*1.1
}
a <- c(5000000)
for(i in 2:10){
a[i] <- a[i-1]*1.1
}
a
24+1+2+3+3+3+5+5+8+4+7+7+6+5+4+6+6
54+8+37
library(readxl)
Abertura_Custos_Operacionais_1 <- read_excel("D:/Downloads/Abertura Custos Operacionais.1.xlsx",
sheet = 4)
View(Abertura_Custos_Operacionais_1)
Abertura_Custos_Operacionais_1=="ND"
Abertura_Custos_Operacionais_1=="ND" | Abertura_Custos_Operacionais_1=="-"
View(Abertura_Custos_Operacionais_1)
str(Abertura_Custos_Operacionais_1)
for(i in 1:nrow(Abertura_Custos_Operacionais_1){
for(i in 1:nrow(Abertura_Custos_Operacionais_1){
for(j in 1:ncol(Abertura_Custos_Operacionais_1)){
Abertura_Custos_Operacionais_1[i,j] <- ifelse(Abertura_Custos_Operacionais_1[i,j]=="ND" | Abertura_Custos_Operacionais_1[i,j]=="0", NA, Abertura_Custos_Operacionais_1[i,j])
}
}
}
for(i in 1:nrow(Abertura_Custos_Operacionais_1)){
for(j in 1:ncol(Abertura_Custos_Operacionais_1)){
Abertura_Custos_Operacionais_1[i,j] <- ifelse((Abertura_Custos_Operacionais_1[i,j]=="ND") | (Abertura_Custos_Operacionais_1[i,j]=="0"), NA, Abertura_Custos_Operacionais_1[i,j])
}
}
View(Abertura_Custos_Operacionais_1)
str(Abertura_Custos_Operacionais_1)
for(i in 6:nrow(Abertura_Custos_Operacionais_1)){
Abertura_Custos_Operacionais_1[,i] <- as.numeric(Abertura_Custos_Operacionais_1[,i])
}
for(i in 6:nrow(Abertura_Custos_Operacionais_1)){
Abertura_Custos_Operacionais_1[,i] <- as.numeric(Abertura_Custos_Operacionais_1[,i])
}
Abertura_Custos_Operacionais_1[,6]
Abertura_Custos_Operacionais_1 <- as.data.frame(Abertura_Custos_Operacionais_1)
for(i in 6:nrow(Abertura_Custos_Operacionais_1)){
Abertura_Custos_Operacionais_1[,i] <- as.numeric(Abertura_Custos_Operacionais_1[,i])
}
Abertura_Custos_Operacionais_1[,6]
str(Abertura_Custos_Operacionais_1)
warnings()
summary(Abertura_Custos_Operacionais_1)
plot(Abertura_Custos_Operacionais_1$`1. DEC Apurada`, Abertura_Custos_Operacionais_1$`1.1. DEC Limite`)
plot(Abertura_Custos_Operacionais_1$`1. DEC Apurada`, Abertura_Custos_Operacionais_1$`1.2. DEC V8`)
cor(Abertura_Custos_Operacionais_1$`1. DEC Apurada`, Abertura_Custos_Operacionais_1$`1.2. DEC V8`)
cor(Abertura_Custos_Operacionais_1$`1. DEC Apurada`, Abertura_Custos_Operacionais_1$`1.2. DEC V8`, na.rm=T)
cor(Abertura_Custos_Operacionais_1$`1. DEC Apurada`, Abertura_Custos_Operacionais_1$`1.2. DEC V8`)
plot(Abertura_Custos_Operacionais_1$`1. DEC Apurada`, Abertura_Custos_Operacionais_1$`2. FEC Apurada`)
lm(Abertura_Custos_Operacionais_1$`2. FEC Apurada`~Abertura_Custos_Operacionais_1$`1. DEC Apurada`)
mod <- lm(Abertura_Custos_Operacionais_1$`2. FEC Apurada`~Abertura_Custos_Operacionais_1$`1. DEC Apurada`)
summary(mod)
abline(mod$coefficients[1], mod$coefficients[2])
plot(Abertura_Custos_Operacionais_1$`2. FEC Apurada`, Abertura_Custos_Operacionais_1$`1. DEC Apurada`)
mod <- lm(Abertura_Custos_Operacionais_1$`1. DEC Apurada`~Abertura_Custos_Operacionais_1$`2. FEC Apurada`)
summary(mod)
abline(mod$coefficients[1], mod$coefficients[2])
c(mod$coefficients[1], mod$coefficients[2])
View(Abertura_Custos_Operacionais_1)
a2 <- Abertura_Custos_Operacionais_1[Abertura_Custos_Operacionais_1$ANO == 2000]
a2 <- Abertura_Custos_Operacionais_1[Abertura_Custos_Operacionais_1$ANO == 2000,]
plot(Abertura_Custos_Operacionais_1$`2. FEC Apurada`, Abertura_Custos_Operacionais_1$`1. DEC Apurada`)
mod <- lm(Abertura_Custos_Operacionais_1$`1. DEC Apurada`~Abertura_Custos_Operacionais_1$`2. FEC Apurada`)
summary(mod)
plot(a2$`2. FEC Apurada`, a2$`1. DEC Apurada`)
mod <- lm(a2$`1. DEC Apurada`~ a2$`2. FEC Apurada`)
summary(mod)
abline(mod$coefficients[1], mod$coefficients[2])
a2 <- Abertura_Custos_Operacionais_1[Abertura_Custos_Operacionais_1$ANO == 2001,]
plot(a2$`2. FEC Apurada`, a2$`1. DEC Apurada`)
mod <- lm(a2$`1. DEC Apurada`~ a2$`2. FEC Apurada`)
summary(mod)
abline(mod$coefficients[1], mod$coefficients[2])
a2 <- Abertura_Custos_Operacionais_1[Abertura_Custos_Operacionais_1$ANO == 2002,]
plot(a2$`2. FEC Apurada`, a2$`1. DEC Apurada`)
mod <- lm(a2$`1. DEC Apurada`~ a2$`2. FEC Apurada`)
summary(mod)
abline(mod$coefficients[1], mod$coefficients[2])
a2 <- Abertura_Custos_Operacionais_1[Abertura_Custos_Operacionais_1$ANO == 20018,]
a2 <- Abertura_Custos_Operacionais_1[Abertura_Custos_Operacionais_1$ANO == 2018,]
plot(a2$`2. FEC Apurada`, a2$`1. DEC Apurada`)
mod <- lm(a2$`1. DEC Apurada`~ a2$`2. FEC Apurada`)
summary(mod)
abline(mod$coefficients[1], mod$coefficients[2])
a2 <- Abertura_Custos_Operacionais_1[Abertura_Custos_Operacionais_1$ANO == 2017,]
plot(a2$`2. FEC Apurada`, a2$`1. DEC Apurada`)
mod <- lm(a2$`1. DEC Apurada`~ a2$`2. FEC Apurada`)
summary(mod)
abline(mod$coefficients[1], mod$coefficients[2])
a2 <- Abertura_Custos_Operacionais_1[Abertura_Custos_Operacionais_1$ANO == 2018,]
plot(a2$`2. FEC Apurada`, a2$`1. DEC Apurada`)
mod <- lm(a2$`1. DEC Apurada`~ a2$`2. FEC Apurada`)
summary(mod)
abline(mod$coefficients[1], mod$coefficients[2])
identify(a2$`2. FEC Apurada`, a2$`1. DEC Apurada`, label=a2$Empresa)
summary(Abertura_Custos_Operacionais_1)
setwd("D:/Gu/ENAP/Dados/Regressao")
write.csv(Abertura_Custos_Operacionais_1, "Abertura_CO.csv")
Abertura_CO <- read.csv("Abertura_CO.csv")
View(Abertura_CO)
rownames(Abertura_Custos_Operacionais_1)
rownames(Abertura_Custos_Operacionais_1) <- NULL
write.csv(Abertura_Custos_Operacionais_1, "Abertura_CO.csv")
Abertura_CO <- read.csv("Abertura_CO.csv")
View(Abertura_CO)
summary(Abertura_CO[,1:10])
View(Abertura_Custos_Operacionais_1)
View(Abertura_CO)
plot(Abertura_CO$X1..DEC.Apurada, Abertura_CO$X2..FEC.Apurada)
mod <- lm(Abertura_CO$X2..FEC.Apurada~Abertura_CO$X1..DEC.Apurada)
summary(mod)
abline(mod$coefficients[1], mod$coefficients[2])
a2 <- Abertura_CO[Abertura_CO$ANO == 2018,]
mod <- lm(a2$X2..FEC.Apurada~ a2$X1..DEC.Apurada)
summary(mod)
abline(mod$coefficients[1], mod$coefficients[2])
a2 <- Abertura_CO[Abertura_CO$ANO == 2018,]
plot(a2$X1..DEC.Apurada, a2$X2..FEC.Apurada)
mod <- lm(a2$X2..FEC.Apurada~ a2$X1..DEC.Apurada)
summary(mod)
abline(mod$coefficients[1], mod$coefficients[2])
identify(a2$`2. FEC Apurada`, a2$`1. DEC Apurada`, label=a2$Empresa)
identify(a2$X1..DEC.Apurada, a2$X2..FEC.Apurada, label=a2$Empresa)
identify(a2$X1..DEC.Apurada, a2$X2..FEC.Apurada, label=a2$Empresa, pos=T)
plot(a2$X1..DEC.Apurada, a2$X2..FEC.Apurada)
mod <- lm(a2$X2..FEC.Apurada~ a2$X1..DEC.Apurada)
summary(mod)
abline(mod$coefficients[1], mod$coefficients[2])
identify(a2$X1..DEC.Apurada, a2$X2..FEC.Apurada, label=a2$Empresa, pos=T)
plot(a2$X1..DEC.Apurada, a2$X2..FEC.Apurada, xlim=c(0,55), ylim=c(0,120))
mod <- lm(a2$X2..FEC.Apurada~ a2$X1..DEC.Apurada)
summary(mod)
abline(mod$coefficients[1], mod$coefficients[2])
identify(a2$X1..DEC.Apurada, a2$X2..FEC.Apurada, label=a2$Empresa, pos=T)
library(readxl)
SIOP <- read_excel("SIOP.xlsx")
View(SIOP)
str(SIOP)
View(SIOP)
writex.csv(SIOP, "SIOP.csv")
write.csv(SIOP, "SIOP.csv")
